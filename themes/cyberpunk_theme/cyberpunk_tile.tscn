[gd_scene load_steps=4 format=3 uid="uid://dlkbee0dvu74c"]

[sub_resource type="Shader" id="glow_shader_1"]
code = "shader_type canvas_item;
uniform float glow_strength : hint_range(0.0, 3.0) = 1.5;
uniform vec4 glow_color : source_color = vec4(0.0, 1.0, 1.0, 1.0);

void fragment() {
    vec4 tex_color = texture(TEXTURE, UV);
    vec4 glow = glow_color * glow_strength;
    COLOR = tex_color + glow;
}"

[sub_resource type="ShaderMaterial" id="glow_material_1"]
shader = SubResource("glow_shader_1")
shader_parameter/glow_strength = 2.0
shader_parameter/glow_color = Color(0, 1, 1, 0.5)

[sub_resource type="Animation" id="pulse_animation"]
resource_name = "pulse"
length = 1.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Background:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"values": [Color(1, 1, 1, 1), Color(1.8, 1.8, 2, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="animation_library"]
_data = {
"pulse": SubResource("pulse_animation")
}

[node name="CyberpunkTile" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
offset_left = -50.0
offset_top = -50.0
offset_right = 50.0
offset_bottom = 50.0
color = Color(0, 0.8, 1, 1)

[node name="GlowBorder" type="ColorRect" parent="."]
material = SubResource("glow_material_1")
offset_left = -52.0
offset_top = -52.0
offset_right = 52.0
offset_bottom = 52.0
color = Color(1, 0, 1, 0.2)

[node name="HexPattern" type="ColorRect" parent="."]
offset_left = -45.0
offset_top = -45.0
offset_right = 45.0
offset_bottom = 45.0
color = Color(0, 1, 1, 0.1)

[node name="ElectricSparks" type="CPUParticles2D" parent="."]
emitting = true
amount = 12
lifetime = 0.8
emission_shape = 3
emission_box_extents = Vector3(20, 20, 1)
direction = Vector3(0, -1, 0)
spread = 45.0
initial_velocity_min = 25.0
initial_velocity_max = 50.0
angular_velocity_min = -180.0
angular_velocity_max = 180.0
gravity = Vector3(0, 15, 0)
scale_amount_min = 0.3
scale_amount_max = 0.8
color = Color(0, 1, 1, 0.8)

[node name="PulseAnimation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("animation_library")
}
autoplay = "pulse"